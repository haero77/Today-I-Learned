<!-- TOC -->
* [9. ê°’ íƒ€ì…](#9-ê°’-íƒ€ì…)
  * [JPA ë°ì´í„° íƒ€ì…](#jpa-ë°ì´í„°-íƒ€ì…)
* [9.1 ê¸°ë³¸ê°’ íƒ€ì…](#91-ê¸°ë³¸ê°’-íƒ€ì…)
* [9.2 ì„ë² ë””ë“œ íƒ€ì…(ë³µí•© ê°’ íƒ€ì…)](#92-ì„ë² ë””ë“œ-íƒ€ì…ë³µí•©-ê°’-íƒ€ì…)
  * [ê¸°ë³¸ê°’ íƒ€ì…](#ê¸°ë³¸ê°’-íƒ€ì…)
  * [ì„ë² ë””ë“œ íƒ€ì…](#ì„ë² ë””ë“œ-íƒ€ì…)
    * [ì„ë² ë””ë“œ íƒ€ì…ì€ ìƒì„±ì í•„ìˆ˜.](#ì„ë² ë””ë“œ-íƒ€ì…ì€-ìƒì„±ì-í•„ìˆ˜)
    * [ì„ë² ë””ë“œ íƒ€ì…ì˜ ìƒëª… ì£¼ê¸°](#ì„ë² ë””ë“œ-íƒ€ì…ì˜-ìƒëª…-ì£¼ê¸°)
* [9.3 ê°’ íƒ€ì„ê³¼ ë¶ˆë³€ ê°ì²´](#93-ê°’-íƒ€ì„ê³¼-ë¶ˆë³€-ê°ì²´)
* [9.4 ê°’ íƒ€ì…ì˜ ë¹„êµ](#94-ê°’-íƒ€ì…ì˜-ë¹„êµ)
* [9.5 ê°’ íƒ€ì… ì»¬ë ‰ì…˜](#95-ê°’-íƒ€ì…-ì»¬ë ‰ì…˜)
* [9.6 ì •ë¦¬](#96-ì •ë¦¬)
<!-- TOC -->

# 9. ê°’ íƒ€ì…

## JPA ë°ì´í„° íƒ€ì…

![img.png](img/ch09/img.png)

- ì—”í‹°í‹° íƒ€ì…
- ê°’ íƒ€ì…
    - ê¸°ë³¸ê°’ íƒ€ì…
        - Primitive type
        - Wrapper Class(Integer...)
        - String
    - ì„ë² ë””ë“œ íƒ€ì…
    - ì»¬ë ‰ì…˜ ê°’ íƒ€ì…


# 9.1 ê¸°ë³¸ê°’ íƒ€ì…

```java
@Entity
public class Member {

    @Id
    @GeneratedValue
    private Long id;
    private String name;
    private int age;

}
```

- `String`, `int`ê°€ ê°’ íƒ€ì….
- Member ì—”í‹°í‹°ëŠ” idë¼ëŠ” 'ì‹ë³„ì' ê°’ì„ ê°€ì§€ê³ , 'ìƒëª…ì£¼ê¸°'ë„ ì¡´ì¬.
  - ë°˜ë©´ ê°’ íƒ€ì…ì¸ name, age ì†ì„±ì€ **ì‹ë³„ìê°€ ì—†ê³ ,** **ìƒëª…ì£¼ê¸°ë„ íšŒì› ì—”í‹°í‹°ì— ì˜ì¡´.**


# 9.2 ì„ë² ë””ë“œ íƒ€ì…(ë³µí•© ê°’ íƒ€ì…)

## ê¸°ë³¸ê°’ íƒ€ì…

```java
@Entity
public class Member {

    @Id
    @GeneratedValue
    private Long id;
    private String name;
    private int age;
    
    // ê·¼ë¬´ ê¸°ê°„
    private LocalDateTime startDate;
    private LocalDateTime endDate;
    
    // ì§‘ ì£¼ì†Œ í‘œí˜„
    private String city;
    private String street;
    private String zipcode;

}
```

- ì†ì„±ì„ ëŠ˜ì–´ë†“ëŠ” ê²ƒì€ ì •ë³´ë¥¼ í’€ì–´ë‘” ê²ƒ.
  - ê·¼ë¬´ ì‹œì‘ì¼ê³¼ ìš°í¸ ë³€í˜¸ëŠ” ì„œë¡œ ì•„ë¬´ ê´€ë ¨ì´ ì—†ìŒ.

## ì„ë² ë””ë“œ íƒ€ì…

```java
@Entity
public class Member {

    @Id
    @GeneratedValue
    private Long id;
    private String name;
    private int age;

    @Embedded
    private Period workPeriod; // ê·¼ë¬´ ê¸°ê°„

    @Embedded
    private Address homeAddress; // ì§‘ ì£¼ì†Œ

}

@Embeddable
public class Period { // ê¸°ê°„ ì„ë² ë””ë“œ íƒ€ì…

    private LocalDateTime startDate;
    private LocalDateTime endDate;

    public boolean isWork() { // ì˜ë¯¸ ìˆëŠ” ë©”ì„œë“œ ì¶”ê°€ ê°€ëŠ¥.
        // ... 
    }

}

@Embeddable
public class Address { // ì£¼ì†Œ ì„ë² ë””ë“œ íƒ€ì…

    @Column(name = "city") // ë§¤í•‘í•  ì»¬ëŸ¼ ì •ì˜ ê°€ëŠ¥
    private String city;
    private String street;
    private String zipcode;

}
```

![img_1.png](img/ch09/img_1.png)

_(íšŒì›-ì»´í¬ì§€ì…˜ ê´€ê³„ UML)_

- íšŒì› ì—”í‹°í‹°ê°€ ì˜ë¯¸ ìˆê³  **ì‘ì§‘ë ¥** ìˆê²Œ ë³€í•¨.
- `Period.isWork()`ì²˜ëŸ¼ ì˜ë¯¸ ìˆëŠ” ë©”ì„œë“œ ì¶”ê°€ ê°€ëŠ¥. (ê°ì²´ì§€í–¥ì ì¸ ì½”ë“œ ì‘ì„± ê°€ëŠ¥)

### ì„ë² ë””ë“œ íƒ€ì…ì€ ìƒì„±ì í•„ìˆ˜.

- ì„ë² ë””ë“œ íƒ€ì…ì€ ê¸°ë³¸ ìƒì„±ì í•„ìˆ˜ì´ë‹¤.

### ì„ë² ë””ë“œ íƒ€ì…ì˜ ìƒëª… ì£¼ê¸°

- ì„ë² ë””ë“œ íƒ€ì…ì„ í¬í•¨í•œ ëª¨ë“  ê°’ íƒ€ì…ì˜ ìƒëª…ì£¼ê¸°ëŠ” **ì—”í‹°í‹°ì˜ ìƒëª…ì£¼ê¸°ì— ì˜ì¡´.**
  - ğŸ‘‰ ì—”í‹°í‹°ì™€ ì„ë² ë””ë“œ íƒ€ì…ì˜ ê´€ê³„ë¥¼ UMLë¡œ ê·¸ë¦¬ë©´ **ì»´í¬ì§€ì…˜ ê´€ê³„**ê°€ ë¨.

<br>

# 9.3 ê°’ íƒ€ì„ê³¼ ë¶ˆë³€ ê°ì²´
# 9.4 ê°’ íƒ€ì…ì˜ ë¹„êµ
# 9.5 ê°’ íƒ€ì… ì»¬ë ‰ì…˜
# 9.6 ì •ë¦¬