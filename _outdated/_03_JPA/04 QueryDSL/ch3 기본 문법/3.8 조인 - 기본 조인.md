> _**π’΅ Tip**_
> - JPQL μµμ… ν‚¤κ³  JPQLμ΄ μ–΄λ–»κ² λ‚κ°€λ”μ§€ μ λ³΄κΈ°
> - Querydsl μ€ JPQLμ λΉλ” μ—­ν• 

# μ΅°μΈ - κΈ°λ³Έ μ΅°μΈ

### μ΅°μΈ μ‚¬μ©λ²•

```java
join(μ΅°μΈ λ€μƒ, λ³„μΉ­μΌλ΅ μ‚¬μ©ν•  Qνƒ€μ…)
```

```java
    /**
 * ν€ Aμ— μ†μ†λ λ¨λ“  νμ›
 */
@Test
@DisplayName("μ΅°μΈ - κΈ°λ³Έ μ΅°μΈ")
void join() {
    List<Member> result = queryFactory
                            .selectFrom(member)
                            .join(member.team, team) // join(μ΅°μΈ λ€μƒ, λ³„μΉ­μΌλ΅ μ‚¬μ©ν•  Qνƒ€μ…)
                            .where(team.name.eq("teamA"))
                            .fetch();

    assertThat(result)
        .extracting("username")
        .containsExactly("member1", "member2");
}
```

```sql
/* JPQL
select
    member1 
from
    Member member1   
inner join
    member1.team as team 
where
    team.name = ?1 
*/ 
select
    member0_.member_id as member_i1_1_,
    member0_.age as age2_1_,
    member0_.team_id as team_id4_1_,
    member0_.username as username3_1_ 
from
    member member0_ 
inner join
    team team1_ 
        on member0_.team_id=team1_.team_id 
where
    team1_.name=?
```

- `join()`, `innerjoin()`: λ‚΄λ¶€ μ΅°μΈ
- leftJoin(): left outer join
- rightJoin(): right outer join
- JPQLμ `on`κ³Ό μ„±λ¥ μµμ ν™”λ¥Ό μ„ν• `νμΉ μ΅°μΈ` μ κ³µ -> λ‹¤μ on μ μ—μ„ μ„¤λ…

<br>

### μ„Ένƒ€ μ΅°μΈ 

- μ„Ένƒ€ μ΅°μΈ: μ—°κ΄€κ΄€κ³„κ°€ μ—†λ” ν•„λ“λ΅ μ΅°μΈ
- JPAμ—μ„ μ—°κ΄€κ΄€κ³„κ°€ μ—†μ–΄λ„ μ΅°μΈμ€ ν•  μ μλ‹¤.

```java
/**
 * μ„Ένƒ€ μ΅°μΈ(μ—°κ΄€κ΄€κ³„κ°€ μ—†λ” ν•„λ“λ΅ μ΅°μΈ)
 * νμ›μ μ΄λ¦„μ΄ ν€ μ΄λ¦„κ³Ό κ°™μ€ νμ› μ΅°ν
 */
@Test
@DisplayName("μ„Ένƒ€ μ΅°μΈ")
void thetaJoin() {
    em.persist(new Member("teamA"));
    em.persist(new Member("teamB"));

    List<Member> result = queryFactory
            .select(member)
            .from(member, team)
            .where(member.username.eq(team.name))
            .fetch();

    System.out.println("result = " + result); // result = [Member(id=7, username=teamA, age=0), Member(id=8, username=teamB, age=0)]

    assertThat(result)
            .extracting("username")
            .containsExactly("teamA", "teamB");
}
```

```sql
/* select
    member1 
from
    Member member1,
    Team team 
where
    member1.username = team.name */ 
select
    member0_.member_id as member_i1_1_,
    member0_.age as age2_1_,
    member0_.team_id as team_id4_1_,
    member0_.username as username3_1_ 
from
    member member0_ cross /* cross : μΉ΄ν‹°μ „ κ³± */ 
join
    team team1_ 
where
    member0_.username=team1_.name
```

- λ¨λ“  νμ›μ„ κ°€μ Έμ¤κ³ , λ¨λ“  ν€μ„ κ°€μ Έμ™€μ„ μΉ΄ν‹°μ „ κ³±μ„ ν•λ‹¤.
  - μΉ΄ν‹°μ „ κ³± μ΄ν›„μ— WHERE μ μ—μ„ ν•„ν„°λ§.
- from μ μ— μ—¬λ¬ μ—”ν‹°ν‹°λ¥Ό μ„ νƒν•΄μ„ μ„Ένƒ€ μ΅°μΈν•λ‹¤.
- μ™Έλ¶€ μ΅°μΈ λ¶κ°€λ¥ -> λ‹¤μμ— μ„¤λ…ν•  μ΅°μΈ on μ„ μ‚¬μ©ν•λ©΄ μ™Έλ¶€ μ΅°μΈ κ°€λ¥