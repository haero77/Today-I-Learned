### BindingResult ë¥¼ ì´ìš©í•œ ì—ëŸ¬ ê²€ì¦ì˜ ë¬¸ì œì 

```java
@PostMapping("/posts")
public Map<String, String> post(@RequestBody @Valid PostCreateRequest params, BindingResult result) {

    if (result.hasErrors()) {
        List<FieldError> fieldErrors = result.getFieldErrors();
        FieldError firstFieldError = fieldErrors.get(0);
        String fieldName = firstFieldError.getField();
        String errorMessage = firstFieldError.getDefaultMessage();

        Map<String, String> error = new HashMap<>();
        error.put(fieldName, errorMessage);
        return error;
    }

    log.info("params={}", params);
    return Map.of();
}
```

1. ë§¤ë²ˆ ë©”ì„œë“œë§ˆë‹¤ ê°’ì„ ê²€ì¦í•´ì•¼í•œë‹¤. 
   - ê°œë°œìê°€ ê¹Œë¨¹ì„ ìˆ˜ ìˆë‹¤.
   - ê²€ì¦ ë¶€ë¶„ì—ì„œ ë²„ê·¸ê°€ ë°œìƒí•  ì—¬ì§€ê°€ ë†’ë‹¤. (íœ´ë¨¼ ì—ëŸ¬ ë“±)
   - ì§€ê²¹ë‹¤. (ê°„ì§€ê°€ ì•ˆ ë‚œë‹¤.)
2. ì‘ë‹µê°’ì— HashMap -> ì‘ë‹µ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì£¼ëŠ”ê²Œ ì¢‹ë‹¤.
3. ì—¬ëŸ¬ ê°œì˜ ì˜ˆì™¸ì²˜ë¦¬ í˜ë“¬.
4. ì„¸ ë²ˆ ì´ìƒì˜ ë°˜ë³µì ì¸ ì‘ì—…ì€ í”¼í•´ì•¼í•œë‹¤.
   - ì½”ë“œ && ê°œë°œì— ê´€í•œ ëª¨ë“  ê²ƒ (ì¸í”„ë¼ ë“±)
     - ğŸ‘‰ ìë™í™” ê³ ë ¤í•´ë³´ê¸°

<br>


# ControllerAdvice ë¡œ ì˜ˆì™¸ ì²˜ë¦¬í•˜ê¸°

### BindingResult ê°€ ControllerAdvice ë³´ë‹¤ ìš°ì„ ìˆœìœ„ë¥¼ ê°–ëŠ”ë‹¤

![img.png](img/1.6/img.png)

- BindingResultë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ëŠ” ê²½ìš° ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œë¡œ ì§„ì…

![img_1.png](img/1.6/img_1.png)

![img_2.png](img/1.6/img_2.png)

- BindingResult ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì§€ ì•Šì„ ë•Œ ExceptionHandler ë™ì‘

<br>


## ErrorResponse

```json
 {
  "code": "400",
  "message": "ì˜ëª»ëœ ìš”ì²­ì…ë‹ˆë‹¤.",
  "validation": {
    "title": "ê°’ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."
  }
}
```

- validation json object ë¥¼ í•˜ë‚˜ ë”°ì£¼ëŠ” í˜•íƒœë¡œ ë§ì´ ì§„í–‰í–ˆì—ˆìŒ.

![img_3.png](img/1.6/img_3.png)

- ìš°ì„  codeë‘ message ë§Œ ì‘ë‹µí•˜ëŠ” DTOë¥¼ ë§Œë“¤ ê²ƒì´ë‹¤.

![img_5.png](img/1.6/img_5.png)

- `HttpMediaTypeNotAcceptableException`ì´ ë°œìƒí•˜ëŠ”ë°, JSONì´ ì•ˆ ë§Œë“¤ì–´ì ¸ì„œ ê·¸ëŸ° ê²ƒ ê°™ìŒ.

<br>

### FieldError ì •ë³´ ë‹´ì•„ì£¼ê¸°

![img_8.png](img/1.6/img_8.png)
![img_7.png](img/1.6/img_7.png)

<br>

### "code" ì˜ ê°’ì´ ê¼­ í•„ìš”í•œê°€?

- í•„ìš”í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆë‹¤.
- `400` ë§Œ ê°€ì§€ê³ ëŠ” ë¶„ê¸°ì²˜ë¦¬ í•˜ê¸° ì–´ë µê¸° ë•Œë¬¸ì— `400.1`, `400.2` ì²˜ëŸ¼ ì‚¬ìš©í•˜ê¸°ë„ í•œë‹¤.
- ì •ë§ í•„ìš”í•œì§€ì— ëŒ€í•´ì„œëŠ” í´ë¼ì´ì–¸íŠ¸ ê°œë°œìì™€ íšŒì˜ë¥¼ í†µí•´ ì •í•˜ì.